# Copyright (c) 2018, Gary Huang, deepkh@gmail.com, https://github.com/deepkh
#
# Permission to use, copy, modify, and distribute this software for any
# purpose with or without fee is hereby granted, provided that the above
# copyright notice and this permission notice appear in all copies.
#
# THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
# WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
# MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
# ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
# WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
# ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
# OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.

SHELL=/bin/sh

TUNOSAMPLES: \
		$(BINTCPPROXY_PHONY) \
		$(BINRTSPPROXY_PHONY) \
		$(BINHTTPCLIENT_PHONY) \
		$(BINHTTPSERVER_PHONY) \
		$(BINHOSTTOIPLIST_PHONY)
	@echo MAKE $@

TUNOSAMPLES_DEV: \
		$(BINTCPPROXY_PHONY_DEV) \
		$(BINRTSPPROXY_PHONY_DEV) \
		$(BINHTTPCLIENT_PHONY_DEV) \
		$(BINHTTPSERVER_PHONY_DEV) \
		$(BINHOSTTOIPLIST_PHONY_DEV)
	@echo MAKE $@

TUNOSAMPLES_CLEAN: \
		$(BINTCPPROXY_PHONY_CLEAN) \
		$(BINRTSPPROXY_PHONY_CLEAN) \
		$(BINHTTPCLIENT_PHONY_CLEAN) \
		$(BINHTTPSERVER_PHONY_CLEAN) \
		$(BINHOSTTOIPLIST_PHONY_CLEAN)
	@echo MAKE $@

### tcp_proxy #####################################################################################
BINTCPPROXY: ${BINTCPPROXY_BIN}
	@echo MAKE BINTCPPROXY 

BINTCPPROXY_CLEAN: ${BINTCPPROXY_BIN_CLEAN}
	@echo MAKE BINTCPPROXY_CLEAN 

${BINTCPPROXY_BIN}:
	$(CD) ${BINTCPPROXY} && $(MAKE) -f Makefile.${BINTCPPROXY_NAME} -j8 $@

BINTCPPROXY_DEV: 
	$(CD) ${BINTCPPROXY} && $(MAKE) -f Makefile.${BINTCPPROXY_NAME} -j8 ${BINTCPPROXY_BIN}
	@echo MAKE $@ 

${BINTCPPROXY_BIN_CLEAN}:
	$(CD) ${BINTCPPROXY} && $(MAKE) -f Makefile.${BINTCPPROXY_NAME} $@

	
### rtsp_proxy #####################################################################################
BINRTSPPROXY: ${BINRTSPPROXY_BIN}
	@echo MAKE BINRTSPPROXY 

BINRTSPPROXY_CLEAN: ${BINRTSPPROXY_BIN_CLEAN}
	@echo MAKE BINRTSPPROXY_CLEAN 

${BINRTSPPROXY_BIN}:
	$(CD) ${BINRTSPPROXY} && $(MAKE) -f Makefile.${BINRTSPPROXY_NAME} -j8 $@

BINRTSPPROXY_DEV: 
	$(CD) ${BINRTSPPROXY} && $(MAKE) -f Makefile.${BINRTSPPROXY_NAME} -j8 ${BINRTSPPROXY_BIN}
	@echo MAKE $@ 

${BINRTSPPROXY_BIN_CLEAN}:
	$(CD) ${BINRTSPPROXY} && $(MAKE) -f Makefile.${BINRTSPPROXY_NAME} $@


### http_client #####################################################################################
BINHTTPCLIENT: ${BINHTTPCLIENT_BIN}
	@echo MAKE BINHTTPCLIENT 

BINHTTPCLIENT_CLEAN: ${BINHTTPCLIENT_BIN_CLEAN}
	@echo MAKE BINHTTPCLIENT_CLEAN 

${BINHTTPCLIENT_BIN}:
	$(CD) ${BINHTTPCLIENT} && $(MAKE) -f Makefile.${BINHTTPCLIENT_NAME} -j8 $@

BINHTTPCLIENT_DEV: 
	$(CD) ${BINHTTPCLIENT} && $(MAKE) -f Makefile.${BINHTTPCLIENT_NAME} -j8 ${BINHTTPCLIENT_BIN}
	@echo MAKE $@ 

${BINHTTPCLIENT_BIN_CLEAN}:
	$(CD) ${BINHTTPCLIENT} && $(MAKE) -f Makefile.${BINHTTPCLIENT_NAME} $@


### http_server #####################################################################################
BINHTTPSERVER: ${BINHTTPSERVER_BIN}
	@echo MAKE BINHTTPSERVER 

BINHTTPSERVER_CLEAN: ${BINHTTPSERVER_BIN_CLEAN}
	@echo MAKE BINHTTPSERVER_CLEAN 

${BINHTTPSERVER_BIN}:
	$(CD) ${BINHTTPSERVER} && $(MAKE) -f Makefile.${BINHTTPSERVER_NAME} -j8 $@

BINHTTPSERVER_DEV: 
	$(CD) ${BINHTTPSERVER} && $(MAKE) -f Makefile.${BINHTTPSERVER_NAME} -j8 ${BINHTTPSERVER_BIN}
	@echo MAKE $@ 

${BINHTTPSERVER_BIN_CLEAN}:
	$(CD) ${BINHTTPSERVER} && $(MAKE) -f Makefile.${BINHTTPSERVER_NAME} $@

### host_to_ip_list #####################################################################################
BINHOSTTOIPLIST: ${BINHOSTTOIPLIST_BIN}
	@echo MAKE BINHOSTTOIPLIST 

BINHOSTTOIPLIST_CLEAN: ${BINHOSTTOIPLIST_BIN_CLEAN}
	@echo MAKE BINHOSTTOIPLIST_CLEAN 

${BINHOSTTOIPLIST_BIN}:
	$(CD) ${BINHOSTTOIPLIST} && $(MAKE) -f Makefile.${BINHOSTTOIPLIST_NAME} -j8 $@

BINHOSTTOIPLIST_DEV: 
	$(CD) ${BINHOSTTOIPLIST} && $(MAKE) -f Makefile.${BINHOSTTOIPLIST_NAME} -j8 ${BINHOSTTOIPLIST_BIN}
	@echo MAKE $@ 

${BINHOSTTOIPLIST_BIN_CLEAN}:
	$(CD) ${BINHOSTTOIPLIST} && $(MAKE) -f Makefile.${BINHOSTTOIPLIST_NAME} $@

	
	
